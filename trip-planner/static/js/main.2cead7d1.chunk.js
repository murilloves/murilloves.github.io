(this.webpackJsonptripplaner=this.webpackJsonptripplaner||[]).push([[0],{117:function(e,n,t){},125:function(e,n,t){"use strict";t.r(n);var r,c=t(0),o=t.n(c),i=t(45),a=t.n(i),u=(t(117),t(34)),s=t(16),l=t.n(s),d=t(31),j=t(15),f=t(137),p=t(75),b=function(e){var n=e.name,t=void 0===n?"":n,r=e.code,c=void 0===r?"":r,o=e.currency,i=void 0===o?"":o,a=e.emoji,u=void 0===a?"":a,s=e.capital,l=void 0===s?"":s;return{id:Math.floor(1e6*Math.random())+1e6,name:t,code:c,capital:l,emoji:u,currency:i}},h=function(e,n){return n.find((function(n){return e.indexOf(n.emoji)>=0}))||{}},m=function(e){return e.currency&&"".concat(e.emoji,"   ").concat(e.name)},v=function(e){var n,t=e.currency;return null===t||void 0===t||null===(n=t.split(","))||void 0===n?void 0:n[0]},O=function(e,n,t){var r=v(e),c=v(n);return r===c?"1 ".concat(r):c?t[c]?function(e,n){return"".concat(e[n].toFixed(2)," ").concat(n)}(t,c):"N/A":""},x="_main_countries",y="_favorite_countries",g=t.n(p)()((function(e){return{allCountries:[],setAllCountries:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e((function(){return{allCountries:n}}))},mainCountry:JSON.parse(localStorage.getItem(x))||b({}),setMainCountry:function(n){return e((function(){return localStorage.setItem(x,JSON.stringify(n)),{mainCountry:n}}))},favoriteCountries:JSON.parse(localStorage.getItem(y))||[],setFavoriteCountries:function(n){return e((function(){return localStorage.setItem(y,JSON.stringify(n)),{favoriteCountries:n}}))}}})),C=function(){var e=Object(d.a)(l.a.mark((function e(n,t){var r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===n||void 0===n?void 0:n.currency.split(",")[0],c=t.map((function(e){return e.currency})).join(","),!r||!c){e.next=14;break}return e.prev=3,e.next=6,w("".concat("https://api.frankfurter.app/latest","?from=").concat(r,"&to=").concat(c));case 6:return o=e.sent,e.abrupt("return",null===o||void 0===o?void 0:o.rates);case 10:return e.prev=10,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n,t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(l.a.mark((function e(){var n,t,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=t(76),k=t(135),F=t(134),I=t(136),A=Object(k.a)(r||(r=Object(S.a)(["\n  {\n    countries {\n      name\n      code\n      capital\n      emoji\n      currency\n    }\n  }\n"]))),J=new F.a({cache:new I.a,uri:"https://countries.trevorblades.com"}),M=t(70),N=t(5),E=function(e){var n=e.options,t=void 0===n?[]:n,r=e.onChange,o=e.value,i=e.selectIndex,a=e.placeholder,u=Object(c.useState)(o||""),s=Object(j.a)(u,2),l=s[0],d=s[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(M.a,{borderColor:"transparent",placeholder:a,list:"main-country",value:l,onChange:function(e){var n=e.target.value;d(n),r(n,i)}}),Object(N.jsx)("datalist",{id:"main-country",children:t.map((function(e){return Object(N.jsx)("option",{value:"".concat(e.emoji,"   ").concat(e.name),children:"".concat("Currency",": ").concat(e.currency)},e.name)}))})]})},R=t(72),_=t(73),z=t(74),T=function(){var e,n=Object(f.a)(A,{client:J}),t=n.data,r=n.loading,o=n.error,i=Object(c.useState)({}),a=Object(j.a)(i,2),s=a[0],p=a[1],v=g((function(e){return e.mainCountry})),x=g((function(e){return e.setMainCountry})),y=g((function(e){return e.allCountries})),w=g((function(e){return e.setAllCountries})),S=g((function(e){return e.favoriteCountries})),k=g((function(e){return e.setFavoriteCountries})),F=function(){var e=Object(d.a)(l.a.mark((function e(n){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(t=h(n,y))||void 0===t?void 0:t.currency)&&(r=b(t),x(b(r)),M(r,S));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(l.a.mark((function e(n,t){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=S,(null===(c=h(n,y))||void 0===c?void 0:c.currency)&&(r[t]=b(c),k(r),M(v,r));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(l.a.mark((function e(n,t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n,t);case 2:r=e.sent,p(r);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.countries)&&w(t.countries)}),[t,w]),Object(c.useEffect)((function(){M(v,S)}),[v,S]),r||o?Object(N.jsx)("p",{children:o?o.message:"Loading..."}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(R.a,{children:Object(N.jsxs)(_.a,{size:"sm",children:[Object(N.jsx)(_.e,{children:Object(N.jsxs)(_.f,{children:[Object(N.jsx)(_.d,{p:["1rem","1rem 2rem"],children:"Country"}),Object(N.jsx)(_.d,{display:["none","table-cell"],p:"1rem",children:"Capital"}),Object(N.jsx)(_.d,{p:"1rem",children:"Amount"}),Object(N.jsx)(_.d,{display:["none","table-cell"],p:"1rem"})]})}),Object(N.jsxs)(_.b,{children:[Object(N.jsxs)(_.f,{bg:"navy",color:"white",children:[Object(N.jsx)(_.c,{p:["0.5rem 0","0.5rem 1rem"],borderRadius:"0.5rem 0 0 0.5rem",children:Object(N.jsx)(E,{options:y,onChange:F,value:m(v),placeholder:"Select your main country"})}),Object(N.jsxs)(_.c,{display:["none","table-cell"],children:[" ",v.capital," "]}),Object(N.jsxs)(_.c,{children:[" 1 ",null===v||void 0===v||null===(e=v.currency)||void 0===e?void 0:e.split(",")[0]," "]}),Object(N.jsx)(_.c,{borderRadius:"0 0.5rem 0.5rem 0"})]}),S.map((function(e,n){return Object(N.jsxs)(_.f,{children:[Object(N.jsx)(_.c,{p:[0,"0 1rem"],children:Object(N.jsx)(E,{onChange:I,options:y,selectIndex:n,value:m(e),placeholder:"Favorite Country #".concat(n+1)})}),Object(N.jsxs)(_.c,{display:["none","table-cell"],children:[" ",null===e||void 0===e?void 0:e.capital," "]}),Object(N.jsx)(_.c,{children:O(v,e,s)}),Object(N.jsx)(_.c,{children:Object(N.jsx)(R.a,{onClick:function(){return function(e){var n=S.filter((function(n,t){return t!==e}));k(n)}(n)},children:Object(N.jsx)(z.a,{color:"red",bg:"white",p:"0",borderRadius:"full",children:"\u2296"})})})]},e.id)})),Object(N.jsx)(_.f,{children:Object(N.jsx)(_.c,{border:"none",p:"1rem 0.75rem",children:v.currency&&Object(N.jsxs)(z.a,{colorScheme:"white",onClick:function(){if(S.length<5){var e=b({}),n=[].concat(Object(u.a)(S),[e]);k(n)}},disabled:S.length>=5,children:[Object(N.jsx)(R.b,{bg:"dodgerblue",w:"1.75rem",h:"1.75rem",align:"center",justify:"center",borderRadius:"full",children:"\u2295"}),Object(N.jsx)(R.c,{color:"dodgerblue",ml:"0.5rem",children:"Add Favorite Country"})]})})})]})]})})})},G=t(52);var W=function(){return Object(N.jsx)(G.a,{children:Object(N.jsxs)(R.a,{m:[0,"2rem"],children:[Object(N.jsx)(R.c,{textAlign:"center",fontSize:"3xl",fontWeight:"bold",m:"1rem",children:"Trip Planner"}),Object(N.jsx)(R.c,{m:"2rem",color:"gray",fontSize:"sm",children:" Going to another country? We can help you with currency and more... "}),Object(N.jsx)(T,{})]})})};a.a.render(Object(N.jsx)(o.a.StrictMode,{children:Object(N.jsx)(W,{})}),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.2cead7d1.chunk.js.map